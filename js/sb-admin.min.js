/*!
 * Start Bootstrap - SB Admin v4.0.0-beta.2 (https://startbootstrap.com/template-overviews/sb-admin)
 * Copyright 2013-2017 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-sb-admin/blob/master/LICENSE)
 */
!function(e){"use strict";function o(o,t){var n=e("<h2>").addClass("col").css("color","red").text(t.number);o.parent().append(n),o.remove(),t.resolved=!0}function t(){e(this).attr("data-index")==h.correct?(e(".wire").off("click"),r("mod2")):c()}function n(o,t){var n=e(".memory-buttons .mem");if(o==z.length)return n.off("click"),r("mod4");var a=e(".memory-status");a.text(a.text()+"*"),e(".memory-display").text(t.display[o]),n.each(function(t){e(this).text(z[o][t])})}function a(){console.log("Fail if not "+e("#mod3").attr("data-done")),e("#mod3").attr("data-done")||(console.log("Fail"),c())}function i(o){e("#timer").text().indexOf(o)<0?c():(r("mod3"),e("#pressThis").off())}function r(t){if(!v){var n=e("#"+t);n.css("background-color","rgba(40, 167, 69, 0.4)"),n.attr("data-done","true"),function(){var o=!0;return e(".module").each(function(){o&="true"===e(this).attr("data-done")}),o}()&&(u(),l(),o(e("#bomb"),m.bomb),d("Bomba rozbrojona."))}}function l(){b()}function c(){!function(){e("#bomb-start").show(),e(".memory-status").text("");var o=e("button.symbol");o.click(k),o.removeClass("btn-primary btn-disabled"),e(".module").css("background-color","transparent"),e("#cableContainer").html("&nbsp;"),o.length=0,h={}}(),s(),l(),v=!0}function s(){u(),d("Hahaha hehehehe. Bomba wybuchła, Mikołaj przez was zginął. Przez was dzieci nie będą miały prezentów. Krew jest teraz na waszych rękach. Spróbujcie jeszcze raz.")}function d(e){setTimeout(function(){alert(e)},1)}function u(){e("#modules").hide()}e('.navbar-sidenav [data-toggle="tooltip"]').tooltip({template:'<div class="tooltip navbar-sidenav-tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>'}),e("#sidenavToggler").click(function(o){o.preventDefault(),e("body").toggleClass("sidenav-toggled"),e(".navbar-sidenav .nav-link-collapse").addClass("collapsed"),e(".navbar-sidenav .sidenav-second-level, .navbar-sidenav .sidenav-third-level").removeClass("show")}),e(".navbar-sidenav .nav-link-collapse").click(function(o){o.preventDefault(),e("body").removeClass("sidenav-toggled")}),e("body.fixed-nav .navbar-sidenav, body.fixed-nav .sidenav-toggler, body.fixed-nav .navbar-collapse").on("mousewheel DOMMouseScroll",function(e){var o=e.originalEvent,t=o.wheelDelta||-o.detail;this.scrollTop+=30*(t<0?1:-1),e.preventDefault()}),e(document).scroll(function(){e(this).scrollTop()>100?e(".scroll-to-top").fadeIn():e(".scroll-to-top").fadeOut()}),e('[data-toggle="tooltip"]').tooltip(),e(document).on("click","a.scroll-to-top",function(o){var t=e(this);e("html, body").stop().animate({scrollTop:e(t.attr("href")).offset().top},1e3,"easeInOutExpo"),o.preventDefault()});var m={file:{valid:"283",number:4},cipher:{valid:"santaclaus",number:6},uvcode:{valid:"chojinka",number:1},morse:{valid:"elf",number:8},mirror:{valid:"gift",number:0},bomb:{number:2}};e("input.form-control").on("input",function(t){t.preventDefault();var n=e(this).attr("id"),a=m[n];a.valid==e(this).val().toLowerCase()&&o(e(this),a)}),e("#bomb").click(function(){e("#bomb-mod").show()}),e("#bomb-start").click(function(){e("#modules").show();b=function(e,o){function t(){if(n){var a=countdown.MINUTES|countdown.SECONDS|countdown.MILLISECONDS,i=new Date(e),r=countdown(i,null,a,3,3);o.html(r.toHTML("strong",null)),Date.now()-e<0?requestAnimationFrame(t):s()}}var n=!0;return countdown.setLabels("&nbsp;|:|:","&nbsp;|:|:","","",""),t(),function(){n=!1}}(Date.now()+3e5,e("#timer")),function(){v=!1;var o=e("button.symbol");f=_.sampleSize(g,4),o.each(function(o){e(this).text(f[o])}),f.sort(),o.off(),o.click(k),h=_.sample(w);for(var a=e("#cableContainer"),i=0;i<h.wires.length;i++){var r='<div class="col-lg-12"><a data-index="'+i+'" class="wire" href="#"><svg width="200" height="2"><line x1="0" x2="200" y1="0" y2="0" style="stroke: '+h.wires[i]+'; stroke-width: 3"></line></svg></a></div>';a.append(r)}e(".wire").on("click",t),p=_.sample(y),e(".press-img").text(p.text),e("#pressThis").off().on("click",p.click||e.noop).on("mousedown",p.mousedown||e.noop).on("dblclick",p.dblclick||e.noop).on("mouseup",p.mouseup||e.noop);var l=_.sample(x),s=0;n(s,l),e(".memory-buttons .mem").off("click").click(function(){var o=e(this).text();console.log("#"+s+" Memory "+o+" | Expected: "+l.order[s]),o==l.order[s]?n(++s,l):c()})}(),e(this).hide()});var b=e.noop,v=!1,f=[],p="",h={},g=["©","¶","æ","Ψ","Ϙ","Ϟ","Ͽ","Ѭ","Ԇ","★","☆"],k=function(o){o.preventDefault();var t=e(this).text();f[0]!=t?(console.log("Expected: "+f[0],"Got: "+t),c()):(f=f.slice(1),console.log("Remaining: ",f),e(this).addClass("btn-primary btn-disabled")),e(this).off("click"),0==f.length&&r("mod1")},w=[{wires:["green","black","black"],correct:1},{wires:["black","red","green"],correct:0},{wires:["red","green","black"],correct:1},{wires:["red","black","red","green"],correct:2},{wires:["black","black","blue","darkorange"],correct:3},{wires:["blue","blue","black","blue"],correct:2}],y=[{text:"Press",mouseup:function(e){i(5)},dblclick:a},{text:"Click",dblclick:function(e){r("mod3")},click:function(){setTimeout(a,500)}},{text:"Hold",click:function(){setTimeout(i.bind(this,0),300)},dblclick:c,mousedown:function(){setTimeout(a,1e3)}}],x=[{display:[3,1,3,3],order:[1,4,1,1]},{display:[1,4,3,3],order:[4,3,1,4]}],z=[[2,4,1,3],[1,3,2,4],[2,3,1,4],[2,1,3,4]]}(jQuery);