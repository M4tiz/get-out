/*!
 * Start Bootstrap - SB Admin v4.0.0-beta.2 (https://startbootstrap.com/template-overviews/sb-admin)
 * Copyright 2013-2017 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-sb-admin/blob/master/LICENSE)
 */
!function(e){"use strict";function o(o,t){var n=e("<h2>").addClass("col").css("color","red").text(t.number);o.parent().append(n),o.remove(),t.resolved=!0}function t(){e(this).attr("data-index")==f.correct?(e(".wire").off("click"),l("mod2")):r()}function n(o,t){var n=e(".memory-buttons .mem");if(o==y.length)return n.off("click"),l("mod4");var a=e(".memory-status");a.text(a.text()+"*"),e(".memory-display").text(t.display[o]),n.each(function(t){e(this).text(y[o][t])})}function a(){console.log("Fail if not "+e("#mod3").attr("data-done")),e("#mod3").attr("data-done")||(console.log("Fail"),r())}function i(o){e("#timer").text().indexOf(o)<0?r():(l("mod3"),e("#pressThis").off())}function l(t){if(!m){var n=e("#"+t);n.css("background-color","rgba(40, 167, 69, 0.4)"),n.attr("data-done","true"),function(){var o=!0;return e(".module").each(function(){o&="true"===e(this).attr("data-done")}),o}()&&(d(),o(e("#bomb"),u.bomb),s("Bomba rozbrojona."))}}function r(){!function(){e("#bomb-start").show(),e(".memory-status").text("");var o=e("button.symbol");o.click(h),o.removeClass("btn-primary btn-disabled"),e(".module").css("background-color","transparent"),e("#cableContainer").html("&nbsp;"),o.length=0,f={}}(),c(),m=!0}function c(){d(),s("Hahaha hehehehe. Bomba wybuchła, Mikołaj przez was zginął. Przez was dzieci nie będą miały prezentów. Krew jest teraz na waszych rękach. Spróbujcie jeszcze raz.")}function s(e){setTimeout(function(){alert(e)},1)}function d(){e("#modules").hide()}e('.navbar-sidenav [data-toggle="tooltip"]').tooltip({template:'<div class="tooltip navbar-sidenav-tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>'}),e("#sidenavToggler").click(function(o){o.preventDefault(),e("body").toggleClass("sidenav-toggled"),e(".navbar-sidenav .nav-link-collapse").addClass("collapsed"),e(".navbar-sidenav .sidenav-second-level, .navbar-sidenav .sidenav-third-level").removeClass("show")}),e(".navbar-sidenav .nav-link-collapse").click(function(o){o.preventDefault(),e("body").removeClass("sidenav-toggled")}),e("body.fixed-nav .navbar-sidenav, body.fixed-nav .sidenav-toggler, body.fixed-nav .navbar-collapse").on("mousewheel DOMMouseScroll",function(e){var o=e.originalEvent,t=o.wheelDelta||-o.detail;this.scrollTop+=30*(t<0?1:-1),e.preventDefault()}),e(document).scroll(function(){e(this).scrollTop()>100?e(".scroll-to-top").fadeIn():e(".scroll-to-top").fadeOut()}),e('[data-toggle="tooltip"]').tooltip(),e(document).on("click","a.scroll-to-top",function(o){var t=e(this);e("html, body").stop().animate({scrollTop:e(t.attr("href")).offset().top},1e3,"easeInOutExpo"),o.preventDefault()});var u={file:{valid:"283",number:4},cipher:{valid:"santaclaus",number:6},uvcode:{valid:"chojinka",number:1},morse:{valid:"elf",number:8},mirror:{valid:"gift",number:0},bomb:{number:2}};e("input.form-control").on("input",function(t){t.preventDefault();var n=e(this).attr("id"),a=u[n];a.valid==e(this).val().toLowerCase()&&o(e(this),a)}),e("#bomb").click(function(){e("#bomb-mod").show()}),e("#bomb-start").click(function(){e("#modules").show();!function(e,o){function t(){var n=countdown.MINUTES|countdown.SECONDS|countdown.MILLISECONDS,a=new Date(e),i=countdown(a,null,n,3,3);o.html(i.toHTML("strong",null)),Date.now()-e<0?requestAnimationFrame(t):c()}countdown.setLabels("&nbsp;|:|:","&nbsp;|:|:","","",""),t()}(Date.now()+3e5,e("#timer")),function(){m=!1;var o=e("button.symbol");b=_.sampleSize(p,4),o.each(function(o){e(this).text(b[o])}),b.sort(),o.off(),o.click(h),f=_.sample(g);for(var a=e("#cableContainer"),i=0;i<f.wires.length;i++){var l='<div class="col-lg-12"><a data-index="'+i+'" class="wire" href="#"><svg width="200" height="2"><line x1="0" x2="200" y1="0" y2="0" style="stroke: '+f.wires[i]+'; stroke-width: 3"></line></svg></a></div>';a.append(l)}e(".wire").on("click",t),v=_.sample(k),e(".press-img").text(v.text),e("#pressThis").off().on("click",v.click||e.noop).on("mousedown",v.mousedown||e.noop).on("dblclick",v.dblclick||e.noop).on("mouseup",v.mouseup||e.noop);var c=_.sample(w),s=0;n(s,c),e(".memory-buttons .mem").off("click").click(function(){var o=e(this).text();console.log("#"+s+" Memory "+o+" | Expected: "+c.order[s]),o==c.order[s]?n(++s,c):r()})}(),e(this).hide()});var m=!1,b=[],v="",f={},p=["©","¶","æ","Ψ","Ϙ","Ϟ","Ͽ","Ѭ","Ԇ","★","☆"],h=function(o){o.preventDefault();var t=e(this).text();b[0]!=t?(console.log("Expected: "+b[0],"Got: "+t),r()):(b=b.slice(1),console.log("Remaining: ",b),e(this).addClass("btn-primary btn-disabled")),e(this).off("click"),0==b.length&&l("mod1")},g=[{wires:["green","black","black"],correct:1},{wires:["black","red","green"],correct:0},{wires:["red","green","black"],correct:1},{wires:["red","black","red","green"],correct:2},{wires:["black","black","blue","darkorange"],correct:3},{wires:["blue","blue","black","blue"],correct:2}],k=[{text:"Press",mouseup:function(e){i(5)},dblclick:a},{text:"Click",dblclick:function(e){l("mod3")},click:function(){setTimeout(a,500)}},{text:"Hold",click:function(){setTimeout(i.bind(this,0),300)},dblclick:r,mousedown:function(){setTimeout(a,1e3)}}],w=[{display:[3,1,3,3],order:[1,4,1,1]},{display:[1,4,3,3],order:[4,3,1,4]}],y=[[2,4,1,3],[1,3,2,4],[2,3,1,4],[2,1,3,4]]}(jQuery);